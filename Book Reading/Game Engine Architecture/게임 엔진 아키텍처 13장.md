# 게임 엔진 아키텍처를 읽고 배운 점 (13장)

- 게임 월드의 구정
  - 게임 월드는 정적 구성 요소와 동적 구성 요소로 나눌 수 있다. 동적 구성 요소의 위치, 방향, 상태 같이 시간에 따라 변하는 것을 **게임 상태** 라고 한다.

  - 주로 최적화에서 정적인가 동적인가를 구분하는데, 정점을 월드 공간 좌표를 저장하거나, 조명과 그림자를 미리 계산하는 등 정적 구성 요소는 런타임 연산을 미리 계산할 수 있다.

  - 게임은 레벨을 통해서 따로 플레이 가능한 여러 지역으로 쪼개게 된다. 레벨을 나눔으로서 메모리 사용량을 줄일 수 있으며, 분업에 유리한 구조를 갖추게 된다.

  - **고차원 진행 (High-Level Flow)** 플레이어의 목표를 그래프로 정의하는 것을 뜻한다.

- 게임 객체
  - 게임 객체란 속성과 행동으로 정의된 독립적인 동적 구성 요소를 뜻하며, 개체, 액터, 에이전트 등으로 불리기도 한다.

  - 월드 에디터에서의 객체 모델과 런타임 게임에서의 객체 모델은 같을 필요가 없다. 구분되나 밀접한 관계가 있는 두 객체 모델이 있는 것이다. 즉 게임 엔진에는 툴 측면 객체 모델과 대응하면 런타임 구현이 필요하다.

- 데이터 주도 게임 엔진
  - 게임의 행동이 아티스트와 디자이너가 제공하는 데이터에 의해 조정될 수 있는 것을 **데이터 주도적 (data-driven)** 이라고 한다.

  - 데이터 주도적 아키텍처는 팀의 효율성을 향상 시키고 시간을 절약할 수 있으나, 아키텍처를 만드는데 소요되는 비용을 감수해야 한다.

- 게임 월드 에디터
  - 레벨을 정의하고 정적, 동적 구성 요소를 채우는 일을 하는 툴을 게임 월드 에디터라 한다.

  - 게임 월드 에디터의 기능은 다음과 같은 것들이 있다. (전체가 아니다.)
    - 레벨의 생성, 이름 변경, 삭제, 저장, 불러오기 등의 관리를 해야한다. 주로 배경 메시나 경계 볼륨으로 레벨이 정의된다.
      - 게임을 저장할 때 레벨을 파일 하나로 하는 방식과, 계층마다 저장하는 방식이 존재한다. 저장 데이터 형식도 XML 등 텍스트 형식과 바이너리 형식이 존재한다.

    - 게임 월드를 원근 투영이나 직교 투영으로 볼 수 있어야 한다. 보통 4부분으로 나눠서 위, 앞, 옆과 3D 화면을 보여준다.

    - 객체 하나를 중심으로 회전하거나, 줌인/아웃하는 등의 다양한 카메라 조작을 지원해야 한다.

    - 객체(들)을 선택해서 편집할 수 있어야 한다. 직교 투영에서는 커서를 긁어 선택하고, 3D 화면에서는 레이 캐스트를 사용한다.

    - 계층을 정의하여 물체를 묶을 수 있어야 한다. 계층에 있는 물체를 선택하고, 단체로 편집하는 등의 작업을 지원해야 한다.

    - 속성의 값을 편집할 수 있어야 한다. 보통 스크롤되는 속성 그리드를 이용한다. 그리고 여러 객체를 선택했을 때의 처리를 해야한다.
      - 보통 모두 같은 값을 가진 속성은 그대로 보여주고, 그렇지 않다면 값을 보여주지 않는다. 그리고 속성을 편집하면 모든 객체에 적용한다.

    - 조명, 파티클 이미터 등의 런타임에서 렌더링되지 않는 것들을 아이콘 등을 사용해서 표시해야 한다.
